# smart-contract-watch
[![Build Status](https://travis-ci.org/Neufund/smart-contract-watch.svg?branch=master)](https://travis-ci.org/Neufund/smart-contract-watch) [![codecov](https://codecov.io/gh/Neufund/smart-contract-watch/branch/master/graph/badge.svg)](https://codecov.io/gh/Neufund/smart-contract-watch)

A tool that monitors smart contracts activity and interactions by scanning transactions in the blockchain. Currently all marked transactions are outputted directly to the screen, in

`[#address] function(param1,param2,...) log(event1,event2,......)`

## How it works
Smart-contract-watch reports two different activities conducted by a smart contract using [getTransaction](https://github.com/ethereum/wiki/wiki/JavaScript-API#web3ethgettransaction), [getTransactionReceipt](https://github.com/ethereum/wiki/wiki/JavaScript-API#web3ethgettransactionreceipt)

1. Direct transactions conducted from or to the monitored smart contracts. This is done by scanning the `to`, `from` fields in all transactions and reporting them back.
2. Log events generated by the monitored smart contract. This is helpful when scanning for internal transactions/activity not directly conducted by the monitored smart-contract.
## How to use
- Clone git repository using `git clone`
- run `yarn` to install dependencies
- run `yarn start -f BLOCKNUMBER -t BLOCKNUMBER -a ARRAY_OF_ADDRESSES` where
  - `-f` represents the starting blocknumber
  - `-t` represents the ending blocknumber
  - `-a` represents an array of addresses

example:
  `yarn start -f 4240705 -a 0x2c974b2d0ba1716e644c1fc59982a89ddd2ff724`

### Tests
`yarn test`
### Flags
`-a` `[#address1,#address2,...]` The only mandatory field if a config file is not provided, this represents an array of addresses to monitory.

`-f` `Blocknumber` Represents the from blocknumber if unspecified smart-contract-watch will start scanning from the first block number

`-t` `Blocknumber` Represents the ending blocknumber where the smart-contract-watch will stop working when reached if left blank the smart-contract-watch will continue waiting for new blocking and scanning until manually exited.

`-c` `./config_file_path` Specify a config file, if a config file is specified smart-contract-watch will take all config settings from this config file and immediately starts running.
